"use strict";function Actor(e,t){if("object"!=typeof e)throw new Error('Required "receivers" argument missing!');this._receivers=e,this._promise=Promise.resolve(),this._config=_.extend({},defaultConfig,t)}var _=require("lodash"),Promise=require("promise"),__DEAD_LETTER_EVENT="$deadLetter",defaultConfig={silent:!1};Actor.prototype._callEventReceiver=function(e,t){return this._isEventReceiverDefined(e)?this._receivers[e].apply(this,t):this._isEventReceiverDefined(__DEAD_LETTER_EVENT)?this._receivers[__DEAD_LETTER_EVENT].apply(this,t):void(this._config.silent||console.warn.apply(console,['No receiver for event "'+e+'"'].concat(t)))},Actor.prototype._isEventReceiverDefined=function(e){return"function"==typeof this._receivers[e]},Actor.prototype.ask=function(e){var t=this,i=Array.prototype.slice.call(arguments,1);return this._promise=this._promise["catch"](function(){}).then(function(){return t._callEventReceiver(e,i)}),this._promise},module.exports=Actor;